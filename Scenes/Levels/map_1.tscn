[gd_scene load_steps=12 format=3 uid="uid://d213ekm8t7n6e"]

[ext_resource type="Script" path="res://Scenes/Levels/map_1.gd" id="1_ap2tv"]
[ext_resource type="PackedScene" uid="uid://bcwi26wn42ami" path="res://Scenes/Characters/enemy_knight.tscn" id="4_deukx"]
[ext_resource type="PackedScene" uid="uid://didmxhublmx1s" path="res://Scenes/Characters/mage.tscn" id="5_4oi6l"]
[ext_resource type="Texture2D" uid="uid://ds1y7ha6joqjx" path="res://assets/crosshair.png" id="6_un3wj"]
[ext_resource type="PackedScene" uid="uid://d4i3yiownurkd" path="res://Scenes/Characters/knight.tscn" id="7_2y4nr"]
[ext_resource type="PackedScene" uid="uid://7bn5yfh63556" path="res://Scenes/Objects/long_wall.tscn" id="7_jysqb"]
[ext_resource type="PackedScene" uid="uid://dkd5aj8jad1hg" path="res://Scenes/Utils/spell.tscn" id="7_k1uih"]
[ext_resource type="PackedScene" uid="uid://d2fccb705pkl2" path="res://Scenes/Characters/enemy_mage.tscn" id="8_7ctj3"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_m4v2a"]
sky_top_color = Color(0.350873, 0.529002, 0.847461, 1)
sky_horizon_color = Color(0.444498, 0.658373, 0.858097, 1)
ground_bottom_color = Color(0.294903, 0.440488, 0.708235, 1)
ground_horizon_color = Color(0.423798, 0.670074, 0.822688, 1)

[sub_resource type="Sky" id="Sky_f08gv"]
sky_material = SubResource("ProceduralSkyMaterial_m4v2a")

[sub_resource type="Environment" id="Environment_sjn8t"]
background_mode = 2
sky = SubResource("Sky_f08gv")
ambient_light_source = 3
ambient_light_color = Color(0.333028, 0.721945, 1, 1)

[node name="map1" type="Node3D"]
script = ExtResource("1_ap2tv")

[node name="map" type="Node3D" parent="."]

[node name="floor" type="CSGBox3D" parent="map"]
transform = Transform3D(1420.57, 0, 0, 0, 0.756512, 0, 0, 0, 1497.96, 0, -1, 0)
use_collision = true

[node name="Node3D" parent="map" instance=ExtResource("7_jysqb")]

[node name="Node3D2" parent="map" instance=ExtResource("7_jysqb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 29.1055, 0, 0)

[node name="Node3D3" parent="map" instance=ExtResource("7_jysqb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 59.4123, 0, 0)

[node name="Node3D4" parent="map" instance=ExtResource("7_jysqb")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 88.4472, 0, 0)

[node name="Node3D5" parent="map" instance=ExtResource("7_jysqb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 88.4472, 0, 30.4853)

[node name="Node3D6" parent="map" instance=ExtResource("7_jysqb")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 119.105, 0, 0)

[node name="TextureRect" type="TextureRect" parent="."]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -72.0
offset_top = -72.0
offset_right = 72.0
offset_bottom = 72.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.2, 0.2)
size_flags_horizontal = 0
size_flags_vertical = 8
texture = ExtResource("6_un3wj")
metadata/_edit_use_anchors_ = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_sjn8t")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.800805, 0.598926, 0, -0.598926, -0.800805, 0, 14.862, 0)
shadow_enabled = true

[node name="Player Units" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -25.3349)

[node name="Knight2" parent="Player Units" instance=ExtResource("7_2y4nr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.2929, 0, 0)
is_leader = true

[node name="Mage" parent="Player Units" instance=ExtResource("5_4oi6l")]

[node name="Mage2" parent="Player Units" instance=ExtResource("5_4oi6l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.83073, 0, -0.51371)

[node name="Knight3" parent="Player Units" instance=ExtResource("7_2y4nr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -26.8941, 0, 0)

[node name="Knight" parent="Player Units" instance=ExtResource("7_2y4nr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.6325, 0, 0)

[node name="Enemies" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 104.182, 0, 15.6002)

[node name="Enemy_knight" parent="Enemies" instance=ExtResource("4_deukx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.4429, 0.487544, 0.657092)

[node name="Enemy_knight2" parent="Enemies" instance=ExtResource("4_deukx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -61.8341, 0, -41.417)

[node name="Enemy_knight3" parent="Enemies" instance=ExtResource("4_deukx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -92.9034, 0, -34.3288)

[node name="Skeleton3D" parent="Enemies/Enemy_knight3/Rig" index="0"]
bones/0/position = Vector3(0, 8.05153e-05, 0)
bones/1/position = Vector3(1.11428e-19, 0.383324, 2.02091e-18)
bones/1/rotation = Quaternion(0.00236215, 0.0421629, 2.04753e-05, 0.999108)
bones/2/rotation = Quaternion(0.0026217, -0.00018511, 6.08509e-05, 0.999997)
bones/3/rotation = Quaternion(0.000990429, -0.000176491, 8.60914e-05, 0.999999)
bones/4/position = Vector3(0.211714, 0.133767, -0.00104362)
bones/4/rotation = Quaternion(-0.563323, -0.0625791, -0.638995, 0.520035)
bones/5/rotation = Quaternion(-3.69296e-09, -5.35201e-08, -0.507874, 0.861432)
bones/7/rotation = Quaternion(-0.320704, -0.32977, 0.138039, 0.877124)
bones/8/rotation = Quaternion(-0.000999896, 0.0015243, -0.702679, 0.711504)
bones/14/position = Vector3(-0.211714, 0.133767, -0.00104349)
bones/14/rotation = Quaternion(-0.619903, 0.0821412, 0.613766, 0.481938)
bones/15/rotation = Quaternion(3.39814e-08, 5.53737e-08, 0.529728, 0.848168)
bones/17/rotation = Quaternion(-0.320138, 0.305508, -0.217981, 0.869862)
bones/18/rotation = Quaternion(-0.000493926, -0.000158494, 0.702604, 0.711581)
bones/21/rotation = Quaternion(-0.00299333, -0.0298511, 0.000119912, 0.99955)
bones/24/position = Vector3(0.170945, 0.113587, -0.00160758)
bones/24/rotation = Quaternion(0.99296, 0.0813885, 0.0739676, 0.0439936)
bones/25/rotation = Quaternion(0.287495, 6.49414e-08, -2.01309e-07, 0.957782)
bones/26/rotation = Quaternion(-0.564906, -0.201638, 0.0569227, 0.798112)
bones/27/rotation = Quaternion(-8.67254e-09, 0.918079, -0.396397, 7.80634e-08)
bones/28/position = Vector3(-0.170945, 0.113587, 0.00160761)
bones/28/rotation = Quaternion(0.994452, -0.0297298, 0.0305894, 0.0961499)
bones/29/rotation = Quaternion(0.354881, -6.2036e-08, 2.45913e-07, 0.934911)
bones/30/rotation = Quaternion(-0.594932, 0.111304, -0.0144511, 0.795901)
bones/31/rotation = Quaternion(3.03534e-08, 0.920355, -0.391084, -6.95361e-08)
bones/32/position = Vector3(0.170945, 0.294417, 0.57792)
bones/33/position = Vector3(0.201467, 0.0244905, 0.199691)
bones/33/rotation = Quaternion(-0.702781, -7.08682e-08, -7.0181e-08, 0.711406)
bones/39/position = Vector3(-0.170945, 0.294417, 0.577919)
bones/40/position = Vector3(-0.170945, 0.025706, 0.247329)
bones/40/rotation = Quaternion(-0.702801, -7.11149e-08, -6.99336e-08, 0.711387)
bones/47/position = Vector3(0.520521, 0.784516, -0.0520186)
bones/47/rotation = Quaternion(0.788125, 0.00996156, 0.615422, 0.00397814)
bones/49/position = Vector3(-0.5109, 0.784516, 0.0620327)
bones/49/rotation = Quaternion(0.752234, -0.0112193, -0.658788, 0.00417344)

[node name="1H_Sword_Offhand" parent="Enemies/Enemy_knight3/Rig/Skeleton3D" index="0"]
transform = Transform3D(0.00398208, 0.249734, 0.968306, 0.999846, 0.0155023, -0.00810903, -0.0170356, 0.96819, -0.249634, 0.510103, 0.63286, 0.00900247)

[node name="Badge_Shield" parent="Enemies/Enemy_knight3/Rig/Skeleton3D" index="1"]
transform = Transform3D(0.00398206, 0.249734, 0.968306, 0.999846, 0.0154998, -0.00810836, -0.017033, 0.96819, -0.249634, 0.661047, 0.631596, -0.0299118)

[node name="Rectangle_Shield" parent="Enemies/Enemy_knight3/Rig/Skeleton3D" index="2"]
transform = Transform3D(0.00398206, 0.249734, 0.968306, 0.999846, 0.0154998, -0.00810836, -0.017033, 0.96819, -0.249634, 0.661047, 0.631596, -0.0299118)

[node name="Round_Shield" parent="Enemies/Enemy_knight3/Rig/Skeleton3D" index="3"]
transform = Transform3D(0.00398206, 0.249734, 0.968306, 0.999846, 0.0154998, -0.00810836, -0.017033, 0.96819, -0.249634, 0.661047, 0.631596, -0.0299118)

[node name="Spike_Shield" parent="Enemies/Enemy_knight3/Rig/Skeleton3D" index="4"]
transform = Transform3D(0.00398206, 0.249734, 0.968306, 0.999846, 0.0154998, -0.00810836, -0.017033, 0.96819, -0.249634, 0.661047, 0.631596, -0.0299118)

[node name="1H_Sword" parent="Enemies/Enemy_knight3/Rig/Skeleton3D" index="5"]
transform = Transform3D(-0.00667123, -0.139824, 0.990153, 0.999862, 0.0140721, 0.00872291, -0.0151527, 0.990076, 0.139711, -0.493526, 0.637447, 0.147253)

[node name="2H_Sword" parent="Enemies/Enemy_knight3/Rig/Skeleton3D" index="6"]
transform = Transform3D(-0.00667125, -0.139824, 0.990153, 0.999862, 0.0140721, 0.00872293, -0.0151526, 0.990076, 0.139711, -0.493526, 0.637447, 0.147253)

[node name="Knight_Helmet" parent="Enemies/Enemy_knight3/Rig/Skeleton3D" index="7"]
transform = Transform3D(0.999685, -8.20783e-05, 0.0251037, 0.000232175, 0.999982, -0.00597623, -0.0251027, 0.00598017, 0.999667, 0.000348356, 1.19359, 0.00769768)

[node name="Knight_Cape" parent="Enemies/Enemy_knight3/Rig/Skeleton3D" index="8"]
transform = Transform3D(0.996405, 0.000486256, 0.0847147, 0.000527392, 0.999929, -0.0119426, -0.0847145, 0.0119444, 0.996334, 0.000333358, 1.19359, 0.00754537)

[node name="Enemy_Mage" parent="Enemies" instance=ExtResource("8_7ctj3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -61.0762, 0, -29.6285)
spell_scene = ExtResource("7_k1uih")

[node name="Skeleton3D" parent="Enemies/Enemy_Mage/Rig" index="0"]
bones/1/position = Vector3(3.57204e-20, 0.384475, 2.61617e-18)
bones/1/rotation = Quaternion(0.000156001, 0.0427711, -9.58645e-05, 0.999085)
bones/2/rotation = Quaternion(0.00014835, 0.00178601, 0.000191468, 0.999998)
bones/3/rotation = Quaternion(6.00473e-05, -0.000230344, 0.000289004, 1)
bones/4/position = Vector3(0.211988, 0.134108, -6.71121e-05)
bones/4/rotation = Quaternion(-0.557611, -0.0606792, -0.640869, 0.524095)
bones/5/rotation = Quaternion(-2.67855e-09, -5.37828e-08, -0.504908, 0.863173)
bones/7/rotation = Quaternion(-0.322457, -0.328895, 0.146929, 0.875363)
bones/8/rotation = Quaternion(0.000181992, 0.000352166, -0.705902, 0.70831)
bones/11/position = Vector3(-0.212015, 0.134106, -2.42506e-05)
bones/11/rotation = Quaternion(-0.617633, 0.080511, 0.613873, 0.484982)
bones/12/rotation = Quaternion(3.34263e-08, 5.58692e-08, 0.527849, 0.849338)
bones/14/rotation = Quaternion(-0.320601, 0.305836, -0.226508, 0.867395)
bones/15/rotation = Quaternion(0.000659345, 0.0010667, 0.705794, 0.708416)
bones/18/rotation = Quaternion(0.000125445, -0.0311808, 8.65729e-05, 0.999514)
bones/21/position = Vector3(0.170945, 0.113587, -4.8606e-05)
bones/21/rotation = Quaternion(0.992632, 0.0828396, 0.0747105, 0.0473108)
bones/22/rotation = Quaternion(0.28356, 6.49574e-08, -1.98505e-07, 0.958955)
bones/23/rotation = Quaternion(-0.558736, -0.205037, 0.0557783, 0.801662)
bones/24/rotation = Quaternion(-1.04488e-08, 0.919863, -0.392241, 7.85401e-08)
bones/25/position = Vector3(-0.170945, 0.113473, 4.90166e-05)
bones/25/rotation = Quaternion(0.995654, -0.0305639, 0.0306181, 0.0824779)
bones/26/rotation = Quaternion(0.336593, -6.25034e-08, 2.33204e-07, 0.94165)
bones/27/rotation = Quaternion(-0.592885, 0.11296, -0.0141095, 0.797201)
bones/28/rotation = Quaternion(3.03245e-08, 0.920216, -0.391411, -6.95487e-08)
bones/29/position = Vector3(0.170945, 0.292432, 0.575934)
bones/30/position = Vector3(0.20191, 0.0259616, 0.20497)
bones/30/rotation = Quaternion(-0.704546, -7.07093e-08, -7.03067e-08, 0.709658)
bones/36/position = Vector3(-0.170945, 0.292432, 0.575934)
bones/37/position = Vector3(-0.170945, 0.0258155, 0.244767)
bones/37/rotation = Quaternion(-0.70683, -7.0562e-08, -7.04882e-08, 0.707383)
bones/44/position = Vector3(0.520588, 0.785427, -0.0572875)
bones/44/rotation = Quaternion(0.792513, 0.00110062, 0.609854, 0.000877101)
bones/46/position = Vector3(-0.510869, 0.78558, 0.061086)
bones/46/rotation = Quaternion(0.755362, -0.00362369, -0.655294, 0.00211428)

[node name="Spellbook" parent="Enemies/Enemy_Mage/Rig/Skeleton3D" index="0"]
transform = Transform3D(-0.00042765, 0.96547, 0.260513, -0.999999, -0.000748556, 0.0011354, 0.00129084, -0.260511, 0.965469, 0.576961, 0.634399, 0.238922)

[node name="Spellbook_open" parent="Enemies/Enemy_Mage/Rig/Skeleton3D" index="1"]
transform = Transform3D(-0.00042765, 0.96547, 0.260513, -0.999999, -0.000748556, 0.0011354, 0.00129084, -0.260511, 0.965469, 0.545607, 0.634263, 0.122726)

[node name="1H_Wand" parent="Enemies/Enemy_Mage/Rig/Skeleton3D" index="2"]
transform = Transform3D(-0.00253242, -0.147231, 0.989098, 0.999962, 0.00784541, 0.00372705, -0.00830825, 0.98907, 0.147205, -0.490552, 0.638433, 0.111486)

[node name="2H_Staff" parent="Enemies/Enemy_Mage/Rig/Skeleton3D" index="3"]
transform = Transform3D(-0.00253242, -0.147231, 0.989098, 0.999962, 0.00784541, 0.00372705, -0.00830825, 0.98907, 0.147205, -0.490552, 0.638433, 0.111486)

[node name="Mage_Hat" parent="Enemies/Enemy_Mage/Rig/Skeleton3D" index="4"]
transform = Transform3D(0.999612, -0.00805021, 0.0266726, 0.000901879, 0.966194, 0.257813, -0.0278463, -0.257689, 0.965827, -0.000682292, 1.76291, 0.00108969)

[node name="Mage_Cape" parent="Enemies/Enemy_Mage/Rig/Skeleton3D" index="5"]
transform = Transform3D(0.995932, -0.000714513, 0.0900999, 0.000784096, 0.999999, -0.000736891, -0.0900993, 0.00080454, 0.995932, -0.000190527, 1.19469, 0.000491071)

[node name="Enemy_Mage2" parent="Enemies" instance=ExtResource("8_7ctj3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -86.4565, 0, -54.338)

[node name="Enemy_Mage3" parent="Enemies" instance=ExtResource("8_7ctj3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -83.2647, 0, -48.5218)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="TextureRect" type="TextureRect" parent="CanvasLayer"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -72.0
offset_top = -72.0
offset_right = 72.0
offset_bottom = 72.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.2, 0.2)
pivot_offset = Vector2(72, 72)
texture = ExtResource("6_un3wj")

[editable path="Enemies/Enemy_knight3"]
[editable path="Enemies/Enemy_Mage"]
